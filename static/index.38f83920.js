import{_ as W,a as Z,b as ee,E as G}from"./white_discord.4a109a24.js";import{_ as se,a as oe}from"./logo.8d0f7353.js";import{_ as te}from"./Btn.vue.2f329420.js";import{j as ne,c as le,m as ae,E as q}from"./taskConnect.5794edf3.js";import{_ as z}from"./client-only.5dd41a01.js";import{d as j,r as w,a as f,c as h,f as r,w as d,b as e,t as D,u as l,F as Y,m as B,N as M,E as L,h as T,e as re,p as ie,i as ce,j as de,A as ue,x as pe,o as _e,n as fe,a4 as me,l as H,s as ge}from"./entry.81c3309d.js";import{u as O}from"./user.53eb568d.js";import{g as J,i as F}from"./utils.07ca15e2.js";import{m as he,c as we}from"./dict.64f70348.js";import{t as N,E as ve}from"./throttle.35da30fa.js";import{E as xe}from"./el-input.1da5fbd0.js";import{i as be,C as S,E as ye,a as Ce,b as Ee}from"./index.4b403d66.js";import{E as ke,a as $e}from"./el-checkbox.c3791aa6.js";import{c as Fe}from"./passwords.0c085804.js";import"./debounce.c00d08f6.js";import"./validator.35f35ff8.js";import"./focus-trap.94c01d57.js";import"./use-form-item.7d68cab0.js";import"./request.cdb65371.js";import"./_initCloneObject.a3412a7e.js";import"./isEqual.a836bef1.js";const Pe=""+globalThis.__publicAssetsURL("images/home/logout.png"),Ie={class:"max-h-[90vh] space-y-5 overflow-hidden flex flex-col"},De=e("span",{class:"text-base font-normal text-white"},"User Profile",-1),Re={class:"flex flex-col items-center space-y-2"},Ue={class:"w-[72px] h-[72px] rounded-full overflow-hidden"},Ve=e("div",{class:"image-slot"},[e("img",{src:W,class:"w-full h-full object-cover"})],-1),Se={class:"text-base font-medium text-white"},Le={class:"text-xs font-normal text-[#999999]"},Ae={class:"space-y-4"},Te={class:"h-11 flex items-center justify-between space-x-8"},je=e("span",{class:"text-sm font-medium text-[#ffe099]"},"FAQ",-1),Ye=e("span",{class:"text-sm font-medium text-[#5CF3FF]"},"About Gaea",-1),Be=e("p",{class:"text-xs font-normal text-[#999999]"}," If you need help, feel free to hop on our Discord server and submit a support ticket. ",-1),Me={class:"w-full flex-1 space-y-5 overflow-auto"},Oe=e("p",{class:"text-base font-medium text-[#ffffffcc]"},"Social Profiles",-1),Xe={class:"space-y-4"},He={class:"flex items-center space-x-2"},Je={key:0,src:Z,alt:"",class:"w-[26px] h-[26px] mr-1"},Ne={key:1,src:ee,alt:"",class:"w-8 h-8 mr-1"},We={class:"text-sm font-medium text-white"},Ge={class:"w-fit"},qe={class:"flex items-center justify-between text-sm font-normal text-[#8C866F]"},ze=e("img",{src:Pe,alt:"",class:"w-4 h-4"},null,-1),Qe=e("span",null," Log out",-1),Ke=[ze,Qe],Ze=j({__name:"UserProfile",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:closeDialog","changePassWord"],setup(E,{emit:k}){const v=w(!1),x=O(),y=w([]),m=w(),i=()=>{k("update:closeDialog")},n=async()=>{m.value=x.getUserInfo,u()},C=s=>{const{social_x_name:a,social_dc_name:p}=x.getUserInfo;if(!F(a)&&s.code==="VERIFY_X")return a;if(!F(p)&&s.code==="VERIFY_DISCORD")return p;if(s.status==="COMPLETED")return"Claimed";if(s.status==="AVAILABLE")return"Claim";{const c=he().find(o=>o.code===s.code);return c?c.title:"Unknown"}},U=s=>{const{social_x_name:a,social_dc_name:p}=x.getUserInfo;!F(a)&&s.code==="VERIFY_X"||!F(p)&&s.code==="VERIFY_DISCORD"||s.status!=="COMPLETED"&&(s.status==="AVAILABLE"?N(()=>P(s)):N(()=>ne(s.code)))},P=async s=>{try{v.value=!0;const a=await le({mission_id:`${s.id}`});v.value=!1,a.code===200?u():L.error(a.msg)}catch(a){console.error(a),L.error("An error occurred while completing the mission.")}finally{v.value=!1}},I=s=>{const{social_x_name:a,social_dc_name:p}=x.getUserInfo;return s.code==="VERIFY_X"&&!F(a)||s.code==="VERIFY_DISCORD"&&!F(p)?!0:s.status==="COMPLETED"},u=async()=>{try{const s=await ae();s.code===200&&(y.value=s.data.filter(a=>a.code==="VERIFY_X"||a.code==="VERIFY_DISCORD"))}catch(s){console.log(s)}};return(s,a)=>{const p=G,c=se,o=te,t=q,g=z;return f(),h("div",null,[r(g,null,{default:d(()=>[r(t,{draggable:"","model-value":s.$props.dialogVisible,"show-close":!1,width:"500px",style:{background:"#121212","border-radius":"10px",padding:"0"},"align-center":"",onClose:i,onOpen:a[2]||(a[2]=$=>n())},{default:d(()=>{var $,V;return[e("div",Ie,[e("div",{class:"flex items-center justify-between"},[De,e("div",{class:"w-5 h-5 bg-[#ffffff52] rounded-full text-center leading-5 text-[#ffffff99] cursor-pointer",onClick:i},"×")]),e("div",Re,[e("div",Ue,[r(p,{src:"/images/public/default_avatar.png",fit:"cover"},{error:d(()=>[Ve]),_:1})]),e("span",Se,D(($=l(m))==null?void 0:$.name),1),e("span",Le,D((V=l(m))==null?void 0:V.email),1)]),e("div",Ae,[e("div",Te,[r(c,{to:`${("getJumpURL"in s?s.getJumpURL:l(J))()}/home?type=FAQ`,target:"_blank",class:"flex-1 h-full border border-[#8c866f] rounded-lg flex items-center justify-center cursor-pointer"},{default:d(()=>[je]),_:1},8,["to"]),r(c,{to:`${("getJumpURL"in s?s.getJumpURL:l(J))()}`,target:"_blank",class:"flex-1 h-full border border-[#5CF3FF] rounded-lg flex items-center justify-center cursor-pointer"},{default:d(()=>[Ye]),_:1},8,["to"])]),Be]),e("div",Me,[Oe,e("div",Xe,[(f(!0),h(Y,null,B(l(y),(b,A)=>(f(),h("div",{class:"w-full py-3 px-4 bg-black rounded-lg flex items-center justify-between",key:A},[e("div",He,[b.code==="VERIFY_X"?(f(),h("img",Je)):(f(),h("img",Ne)),e("span",We,D(b.code==="VERIFY_X"?"X":"Discord"),1)]),e("div",Ge,[r(o,{title:C(b),disabled:I(b),"hover-title":C(b),onClickHandle:X=>U(b)},null,8,["title","disabled","hover-title","onClickHandle"])])]))),128))]),e("div",qe,[e("span",{class:"cursor-pointer",onClick:a[0]||(a[0]=()=>{k("changePassWord")})},"Change Password"),e("div",{class:"flex items-center space-x-1 cursor-pointer",onClick:a[1]||(a[1]=b=>("navigateTo"in s?s.navigateTo:l(M))("/login"))},Ke)])])])]}),_:1},8,["model-value"])]),_:1})])}}}),R=E=>(ie("data-v-4f325ad4"),E=E(),ce(),E),es={class:"max-h-[90vh] space-y-5 overflow-hidden flex flex-col"},ss=R(()=>e("span",{class:"text-base font-normal text-white"},"Change Password",-1)),os={class:"w-full flex-1 px-5 pb-5 mt-14"},ts=R(()=>e("span",{class:"iconfont icon-cfmpassword text-[#FFE099] text-xl"},null,-1)),ns=R(()=>e("span",{class:"iconfont icon-cfmpassword text-[#FFE099] text-xl"},null,-1)),ls={class:"set_checkbox_sty"},as=R(()=>e("span",{class:"iconfont icon-cfmpassword text-[#FFE099] text-xl"},null,-1)),rs=R(()=>e("span",{class:"text-white"},"Save",-1)),is=j({__name:"ChangePassword",props:{dialogVisible:{type:Boolean,default:!1}},emits:["update:closeDialog"],setup(E,{emit:k}){const v=w(),x=O(),y=w(),m=w(!1),i=w(we()),n=T({password:"",password_new:"",confirm_Password:"",checkList:[]}),P=T({password:[{required:!0,message:"Enter your Currrent password",trigger:"blur"}],password_new:[{validator:(c,o,t)=>{o===""?t(new Error("Please enter a valide password")):(n.checkList.length!==4&&t(new Error("Your password does not match")),t())},trigger:"blur"}],confirm_Password:[{validator:(c,o,t)=>{o===""?t(new Error("Please input the password again")):o!==n.password_new?t(new Error("Your password does not match")):t()},trigger:"blur"}]}),I=()=>{const{password_new:c}=n,o=Fe(c);n.checkList=[],o.lowercase&&n.checkList.push(i==null?void 0:i.value[0]),o.uppercase&&n.checkList.push(i==null?void 0:i.value[1]),o.special&&n.checkList.push(i==null?void 0:i.value[2]),o.characters&&n.checkList.push(i==null?void 0:i.value[3])},u=()=>{s(v.value),n.checkList=[],k("update:closeDialog")},s=c=>{c&&c.resetFields()},a=async c=>{c&&await c.validate(async o=>{if(o)try{m.value=!0;const t=await be({password:S.SHA256(n.password).toString(S.enc.Hex).trim(),password_new:S.SHA256(n.password_new).toString(S.enc.Hex).trim()});m.value=!1,t.code===200?(L.success(t.msg),M("/login")):L.error(t.msg)}catch(t){console.log(t),m.value=!1}})},p=async()=>{y.value=x.getUserInfo,console.log(x.getUserInfo)};return(c,o)=>{const t=xe,g=ye,$=ke,V=$e,b=ve,A=Ce,X=q,Q=z;return f(),h("div",null,[r(Q,null,{default:d(()=>[r(X,{draggable:"","model-value":c.$props.dialogVisible,"show-close":!1,width:"500px",style:{background:"#121212","border-radius":"10px",padding:"0"},"align-center":"",onClose:u,onOpen:o[5]||(o[5]=_=>p())},{default:d(()=>[e("div",es,[e("div",{class:"flex items-center justify-between"},[ss,e("div",{class:"w-5 h-5 bg-[#ffffff52] rounded-full text-center leading-5 text-[#ffffff99] cursor-pointer",onClick:u},"× ")]),e("div",os,[r(A,{model:l(n),class:"space-y-8",ref_key:"ruleFormRef",ref:v,rules:l(P),"label-position":"top","hide-required-asterisk":""},{default:d(()=>[r(g,{label:"Currrent password",prop:"password"},{default:d(()=>[r(t,{placeholder:"Enter your Currrent password",type:"password",modelValue:l(n).password,"onUpdate:modelValue":o[0]||(o[0]=_=>l(n).password=_),"show-password":""},{prefix:d(()=>[ts]),_:1},8,["modelValue"])]),_:1}),r(g,{label:"Password",prop:"password_new",onInput:I},{default:d(()=>[r(t,{placeholder:"Enter your password",type:"password",modelValue:l(n).password_new,"onUpdate:modelValue":o[1]||(o[1]=_=>l(n).password_new=_),"show-password":""},{prefix:d(()=>[ns]),_:1},8,["modelValue"]),e("div",ls,[r(V,{modelValue:l(n).checkList,"onUpdate:modelValue":o[2]||(o[2]=_=>l(n).checkList=_),class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-x-6"},{default:d(()=>[(f(!0),h(Y,null,B(l(i),(_,K)=>(f(),re($,{label:_,value:_,key:K},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1}),r(g,{label:"Confirm Password",prop:"confirm_Password"},{default:d(()=>[r(t,{placeholder:"Enter your password",type:"password",modelValue:l(n).confirm_Password,"onUpdate:modelValue":o[3]||(o[3]=_=>l(n).confirm_Password=_),"show-password":""},{prefix:d(()=>[as]),_:1},8,["modelValue"])]),_:1}),r(b,{color:"#D9AF80",round:"",class:"w-full h-full",onClick:o[4]||(o[4]=_=>a(l(v))),loading:l(m)},{default:d(()=>[rs]),_:1},8,["loading"])]),_:1},8,["model","rules"])])])]),_:1},8,["model-value"])]),_:1})])}}});const cs=de(is,[["__scopeId","data-v-4f325ad4"]]),ds={class:"w-full h-screen bg-black flex flex-col px-20"},us={class:"w-full flex items-center justify-between flex-wrap pl-2 pr-10 py-5"},ps={class:"flex items-center space-x-10"},_s={class:"flex items-center space-x-6 text-white cursor-pointer"},fs=["onClick"],ms=["src"],gs={class:"flex items-center space-x-3"},hs={class:"text-white"},ws=e("div",{class:"image-slot"},[e("img",{src:W,class:"w-full h-full object-cover"})],-1),vs={class:"w-full flex-1 overflow-hidden"},Ms=j({__name:"index",setup(E){const k=ue(),v=pe(),x=k.path,y=w(x.replace(/\/$/,"")),m=T([{title:"Dashboard",path:"/dashboard"},{title:"Mission& Reward",path:"/missions"},{title:"NFT Coming Soon",path:"/"}]),i=O(),n=w(!1),C=w(!1),U=u=>{u.title!=="NFT Coming Soon"&&(y.value=u.path,M(u.path))},P=()=>{n.value=!1,C.value=!0},I=async()=>{try{const u=await Ee();u.code===200&&i.setUserInfo(u.data)}catch(u){console.log(u)}};return _e(async()=>{await fe(),I()}),(u,s)=>{var o;const a=G,p=Ze,c=cs;return f(),h("div",ds,[e("div",us,[e("div",ps,[e("img",{src:oe,alt:"",class:"w-40 h-14 cursor-pointer",onClick:s[0]||(s[0]=t=>l(v).go(0))}),e("div",_s,[(f(!0),h(Y,null,B(l(m),(t,g)=>(f(),h("div",{class:H(["flex items-center",`${l(y)===t.path?" text-[#9E8654]":" text-white"}`]),style:ge({cursor:g===2?"not-allowed":"pointer"}),key:g,onClick:$=>U(t)},[e("img",{src:`/images/public/menu_${g}${l(y)===t.path?"_selected":""}.png?code==1`,alt:"",class:"w-8 h-8"},null,8,ms),e("span",{class:H(["text_family font-bold",g===2?"text-[#333]":""])},D(t.title),3)],14,fs))),128))])]),e("div",gs,[e("div",hs,D((o=l(i).getUserInfo)==null?void 0:o.name),1),e("div",{class:"w-10 h-10 rounded-full overflow-hidden cursor-pointer",onClick:s[1]||(s[1]=t=>n.value=!0)},[r(a,{src:"/images/public/default_avatar.png"},{error:d(()=>[ws]),_:1})])])]),e("div",vs,[me(u.$slots,"default")]),r(p,{"dialog-visible":l(n),"onUpdate:closeDialog":s[2]||(s[2]=t=>n.value=!1),onChangePassWord:s[3]||(s[3]=t=>P())},null,8,["dialog-visible"]),r(c,{"dialog-visible":l(C),"onUpdate:closeDialog":s[4]||(s[4]=t=>C.value=!1)},null,8,["dialog-visible"])])}}});export{Ms as default};
