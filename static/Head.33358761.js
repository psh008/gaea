import{_ as Y,a as M,b as O,E as j}from"./white_discord.4a109a24.js";import{_ as B}from"./Btn.vue.2f329420.js";import{d as T,r as P,x as X,k as H,bF as $,a,c as n,b as s,f as E,w as y,u as c,y as I,t as b,F as N,m as W,E as d}from"./entry.81c3309d.js";import{u as q}from"./user.53eb568d.js";import{s as z,i}from"./utils.07ca15e2.js";import{t as w}from"./throttle.35da30fa.js";import{j as G,c as J}from"./taskConnect.5794edf3.js";import{g as K,b as Q}from"./missions.e6e8fc9a.js";import{b as Z}from"./index.4b403d66.js";import{_ as ee}from"./bi.983090d4.js";import"./debounce.c00d08f6.js";import"./el-input.1da5fbd0.js";import"./use-form-item.7d68cab0.js";import"./validator.35f35ff8.js";import"./focus-trap.94c01d57.js";import"./request.cdb65371.js";import"./client-only.5dd41a01.js";import"./dict.64f70348.js";import"./referral.080803df.js";import"./el-loading.b19a7785.js";import"./dashboard.18bd89fb.js";import"./_initCloneObject.a3412a7e.js";const se={class:"w-full px-10 py-6 bg-[#0F0F0F] rounded-lg shadow-3d flex items-center justify-between text-white"},te={class:"flex items-center space-x-5"},oe={class:"w-32 h-32 bg-black rounded-full overflow-hidden"},re=s("div",{class:"image-slot"},[s("img",{src:Y,class:"w-full h-full object-cover"})],-1),ae={class:"space-y-3"},ne={key:0,class:"space-x-1"},ce=s("span",{class:"iconfont icon-copy text-sm text-[#6E6E6E]"},null,-1),ie={key:1,class:"border border-[#ffe09929] space-x-1 rounded px-2 text-[#FFE099] hover:border-[#FFE099]"},le=s("span",{class:"iconfont icon-lianjie text-lg"},null,-1),de=s("span",{class:"text-base duration-300"},"Connect Wallet",-1),_e=[le,de],fe={class:"flex items-center space-x-2"},me={key:0,src:M,alt:"",class:"w-[18px] h-[18px] mr-1"},pe={key:1,src:O,alt:"",class:"w-6 h-6 mr-1"},ue={class:"flex flex-col items-end space-y-2"},he={class:"flex items-center space-x-1"},ge=s("div",{class:"w-10 h-10"},[s("img",{src:ee,alt:"",class:"w-full h-full object-contain"})],-1),xe={class:"px-2 py-1 bg-[#866c50] rounded-lg flex items-center space-x-1 cursor-pointer"},ve=s("span",{class:"iconfont icon-copy"},null,-1),Ee=s("span",{class:"text-sm font-medium text-center"},"Copy Referral Link",-1),ye=[ve,Ee],Ie=s("div",{class:"flex items-center text-[#6E6E6E] text-sm cursor-not-allowed"},[s("span",{class:""},"View records"),s("span",{class:"iconfont icon-gengduo"})],-1),We=T({__name:"Head",props:{data:{default:[]},missionData:{default:[]}},emits:["toUpdate"],setup(F,{emit:D}){const f=F,r=q(),_=P(!1);X();const C=H(()=>e=>e.filter(t=>t.code==="VERIFY_X"||t.code==="VERIFY_DISCORD")),k=e=>{const{social_x_name:t,social_dc_name:o}=r.getUserInfo;return e.code==="VERIFY_X"&&!i(t)||e.code==="VERIFY_DISCORD"&&!i(o)?!0:e.status==="COMPLETED"},m=e=>{const{social_x_name:t,social_dc_name:o}=r.getUserInfo;return!i(t)&&e.code==="VERIFY_X"?t:!i(o)&&e.code==="VERIFY_DISCORD"?o:e.status==="COMPLETED"?"Claimed":e.status==="AVAILABLE"?"Claim":"Add"},R=e=>{const{social_x_name:t,social_dc_name:o}=r.getUserInfo;!i(t)&&e.code==="VERIFY_X"||!i(o)&&e.code==="VERIFY_DISCORD"||e.status!=="COMPLETED"&&(e.status==="AVAILABLE"?w(()=>V(e)):w(()=>G(e.code)))},V=async e=>{try{_.value=!0;const t=await J({mission_id:`${e.id}`});_.value=!1,t.code===200?D("toUpdate"):d.error(t.msg)}catch(t){console.error(t),d.error("An error occurred while completing the mission.")}finally{_.value=!1}},U=async()=>{var e;try{if((e=r.getUserInfo)!=null&&e.eth_address)return;const t=await K(),o=await Q({address:t});o.code===200?(d.success(o.data),A()):d.error(o.msg)}catch(t){console.log(t)}},A=async()=>{try{const e=await Z();e.code===200&&r.setUserInfo(e.data)}catch(e){console.log(e)}};return(e,t)=>{var u,h,g,x,v;const o=j,L=B,p=$("copy");return a(),n("div",se,[s("div",te,[s("div",oe,[E(o,{src:"/images/public/default_avatar.png",fit:"cover"},{error:y(()=>[re]),_:1})]),s("div",ae,[s("div",{class:"flex items-center text-white hover:text-[#FFE099] font-normal text-base cursor-pointer",onClick:U},[(u=c(r).getUserInfo)!=null&&u.eth_address?I((a(),n("div",ne,[s("span",null,b(("stringStar"in e?e.stringStar:c(z))({value:(h=c(r).getUserInfo)==null?void 0:h.eth_address,characters:"********",start:4})),1),ce])),[[p,(g=c(r).getUserInfo)==null?void 0:g.eth_address]]):(a(),n("div",ie,_e))]),s("div",fe,[(a(!0),n(N,null,W(c(C)(f.missionData),(l,S)=>(a(),n("div",{key:S},[E(L,{title:m(l),disabled:k(l),"hover-title":m(l),onClickHandle:be=>R(l)},{default:y(()=>[l.code==="VERIFY_X"?(a(),n("img",me)):(a(),n("img",pe))]),_:2},1032,["title","disabled","hover-title","onClickHandle"])]))),128))])])]),s("div",ue,[s("div",he,[ge,s("span",null,b(((x=f.data)==null?void 0:x.total_total)||0),1)]),I((a(),n("div",xe,ye)),[[p,(v=c(r).getUserInfo)==null?void 0:v.referral_link]]),Ie])])}}});export{We as default};
