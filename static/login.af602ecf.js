import{E as S}from"./el-input.1da5fbd0.js";import{C as A,d as J,E as q,a as N,f as K}from"./index.4b403d66.js";import{_ as R}from"./Turnstile.a2bd603c.js";import{E as Q}from"./el-checkbox.c3791aa6.js";import{_ as X,a as Y}from"./logo.8d0f7353.js";import{t as z,E as M}from"./throttle.35da30fa.js";import{d as j,r as b,h as U,k as V,a as y,c as E,b as e,f as o,w as n,u as s,M as Z,N as ee,E as H,p as te,i as se,j as oe,A as O,o as W,F as L,t as ae,e as B}from"./entry.81c3309d.js";import{u as I}from"./user.53eb568d.js";import{_ as D,a as le}from"./logo_bg.82afa12b.js";import{_ as ne}from"./client-only.5dd41a01.js";import{_ as re}from"./bg_kuang.e726fc34.js";import"./use-form-item.7d68cab0.js";import"./_initCloneObject.a3412a7e.js";import"./request.cdb65371.js";import"./utils.07ca15e2.js";import"./isEqual.a836bef1.js";const ie=""+globalThis.__publicAssetsURL("images/login/leaf.png"),f=v=>(te("data-v-d5db03bb"),v=v(),se(),v),ce={class:"w-full h-full flex flex-col py-5"},de=f(()=>e("div",{class:"w-full h-[80px] mt-32 flex flex-col items-center justify-center"},[e("div",{class:"text-3xl font-normal text-[#FFE099]"},"Let's get start "),e("div",{class:"text-sm font-normal text-[#C6BFAA]"},"Log in your account")],-1)),pe={class:"w-full flex-1 px-12 mt-8"},_e=f(()=>e("span",{class:"iconfont icon-email text-[#FFE099] text-xl"},null,-1)),ue=f(()=>e("span",{class:"iconfont icon-cfmpassword text-[#FFE099] text-xl"},null,-1)),me={class:"flex items-center justify-between text-white text-opacity-80 font-normal"},fe={class:"flex items-center space-x-2"},he=f(()=>e("span",{class:"text-[12px]"},"Rememebr me",-1)),xe=f(()=>e("span",{class:"duration-300 cursor-pointer text-[12px] show_spw"}," Forgot Password ? ",-1)),ge=f(()=>e("img",{src:ie,class:"w-14 h-2 tig opacity-0 duration-300"},null,-1)),we=[xe,ge],be={class:"flex items-center justify-center space-x-3 mt-3"},ve=f(()=>e("span",{class:"text-white"},"Don't have an account?",-1)),ye={class:"text-[#5CF3FF] cursor-pointer"},ke={class:"w-[243px] h-12 absolute left-[118px] -bottom-[17px] z-10 cursor-pointer"},$e=f(()=>e("img",{src:D,alt:"",class:"absolute top-0 left-0 -z-10 w-full h-full object-cover"},null,-1)),Ee=f(()=>e("span",{class:"text-base font-normal text-[#4E4A3C]"},"CONTINUE",-1)),Fe=j({__name:"Index",emits:["updateDisplay"],setup(v,{emit:p}){const r=b(),h=I(),t=U({email:"",password:"",rememberPassword:!1,recaptcha_token:""}),_=b(!1),F=V(()=>!t.email||!t.password||!t.recaptcha_token);V(()=>F.value?"/images/login/btn_no.png":"/images/login/btn_selected.png");const k=U({email:[{required:!0,message:"Please enter a valide email address",trigger:"blur"}],password:[{required:!0,message:"Please enter a valide password",trigger:"blur"}],recaptcha_token:[{required:!0,message:"Please verify",trigger:["blur","change"]}]}),i=async c=>{c&&await c.validate(async(l,$)=>{if(l)try{_.value=!0;const u={username:t.email.trim(),password:A.SHA256(t.password).toString(A.enc.Hex).trim(),remember_me:t.rememberPassword,recaptcha_token:t.recaptcha_token.trim()},a=await J({...u});_.value=!1,a.code===200?(h.setToken(a.data.token),h.setUserInfo(a.data.user_info),ee("/dashboard")):(H.error(a.msg),P())}catch(u){console.log(u),_.value=!1,P()}})},x=c=>{t.recaptcha_token=c,r.value.clearValidate("recaptcha_token")},P=()=>{t.recaptcha_token="";const c=document.getElementById("login_recaptcha_token");c&&(c.innerHTML="",window.onloadTurnstileCallback())};return(c,l)=>{const $=S,u=q,a=R,d=Q,C=X,g=N,w=M;return y(),E("div",ce,[de,e("div",pe,[o(g,{model:s(t),class:"",ref_key:"ruleFormRef",ref:r,rules:s(k),"label-position":"top","hide-required-asterisk":""},{default:n(()=>[o(u,{label:"Email or Uername",prop:"email"},{default:n(()=>[o($,{placeholder:"Enter your email or uername",modelValue:s(t).email,"onUpdate:modelValue":l[0]||(l[0]=m=>s(t).email=m)},{prefix:n(()=>[_e]),_:1},8,["modelValue"])]),_:1}),o(u,{label:"Password",prop:"password",class:"mt-8"},{default:n(()=>[o($,{placeholder:"Enter your password",type:"password",modelValue:s(t).password,"onUpdate:modelValue":l[1]||(l[1]=m=>s(t).password=m),"show-password":""},{prefix:n(()=>[ue]),_:1},8,["modelValue"])]),_:1}),o(u,{prop:"recaptcha_token",class:"mt-8"},{default:n(()=>[o(a,{onToUpdate:x,id:"login_recaptcha_token"})]),_:1}),e("div",me,[e("div",fe,[o(d,{modelValue:s(t).rememberPassword,"onUpdate:modelValue":l[2]||(l[2]=m=>s(t).rememberPassword=m)},null,8,["modelValue"]),he]),e("div",{class:"flex flex-col items-center forgot_password",onClick:l[3]||(l[3]=m=>p("updateDisplay",!1))},we)]),e("div",be,[ve,e("span",ye,[o(C,{to:"/register"},{default:n(()=>[Z("Sign up")]),_:1})])])]),_:1},8,["model","rules"])]),e("div",ke,[o(w,{type:"primary",loading:s(_),onClick:l[4]||(l[4]=m=>("throttle"in c?c.throttle:s(z))(()=>{i(s(r))})),style:{margin:"0",height:"100%",padding:"0","background-color":"transparent",border:"transparent",color:"#4E4A3C"},class:"w-full h-full flex items-center justify-center relative"},{default:n(()=>[$e,Ee]),_:1},8,["loading"])])])}}});const Pe=oe(Fe,[["__scopeId","data-v-d5db03bb"]]),Ce=(v,p,r)=>{const h=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!p||h.test(p))return r();r(new Error("Please enter a valid email address!"))},Te=""+globalThis.__publicAssetsURL("images/login/login_successful.png?v=1"),Ue={class:"w-full px-12 h-full flex flex-col items-center justify-center space-y-12"},Ve={class:"flex flex-col items-center space-y-1"},je=e("span",{class:"text-3xl font-normal text-[#FFE099]"},"Forgot Password",-1),Ie={class:"flex items-center justify-center space-x-3 mt-3"},De=e("span",{class:"text-sm font-normal text-white"}," We will send a recovery link to this email ",-1),Ae=e("span",{class:"iconfont icon-email text-[#FFE099] text-xl"},null,-1),Le={class:"w-[243px] h-12 absolute left-[118px] -bottom-[17px] z-10 cursor-pointer"},Be=e("img",{src:D,alt:"",class:"absolute top-0 left-0 -z-10 w-full h-full object-cover"},null,-1),Se=e("span",{class:"text-base font-normal text-[#4E4A3C]"},"SEND",-1),qe={class:"w-full h-full flex flex-col items-center justify-center space-y-6"},Ne=e("div",{class:"w-[266px] h-72"},[e("img",{src:Te,alt:"",class:"w-full h-full"})],-1),Re={class:"flex flex-col items-center space-y-1"},ze=e("span",{class:"text-base font-normal text-[#FFE099]"}," Send successful ",-1),Me={class:"text-sm font-normal text-white"},He=e("img",{src:D,class:"w-full h-full object-cover"},null,-1),Oe=e("span",{class:"text-base font-normal text-[#4E4A3C] absolute z-10"}," BACK TO LOGIN ",-1),We=[He,Oe],Ge=j({__name:"ForgotPassWord",emits:["updateDisplay"],setup(v,{emit:p}){const r=b(),h=O(),t=b(!1),_=b(!1),F=I(),k=b(""),i=U({email:"",recaptcha_token:""}),x=b(!1),P=V(()=>!i.email||!i.recaptcha_token);V(()=>P.value?"/images/login/btn_no.png":"/images/login/btn_selected.png");const c=U({email:[{required:!0,message:"Please enter a valide email address",trigger:"blur"},{validator:Ce,trigger:"blur"}],recaptcha_token:[{required:!0,message:"Please verify",trigger:["blur","change"]}]}),l=async a=>{await a.validate(async(d,C)=>{if(d)try{const g={email:i.email.trim(),recaptcha_token:i.recaptcha_token.trim()};x.value=!0;const w=await K({...g});x.value=!1,w.code===200?(_.value=!0,k.value=w.data):(H.error(w.msg||w.detail.type.msg),u())}catch(g){console.log(g),x.value=!1,u()}})},$=a=>{i.recaptcha_token=a,r.value.clearValidate("recaptcha_token")},u=()=>{i.recaptcha_token="";const a=document.getElementById("forgot_password_recaptcha_token");a&&(a.innerHTML="",window.onloadTurnstileCallback())};return W(async()=>{F.clearUserInfo(),h.query.type==="forgotPassword"&&(t.value=!0)}),(a,d)=>{const C=S,g=q,w=R,m=N,G=M;return y(),E("div",Ue,[s(_)?(y(),E(L,{key:1},[e("div",qe,[Ne,e("div",Re,[ze,e("span",Me,ae(s(k)),1)])]),e("div",{class:"w-[243px] h-12 absolute left-[118px] -bottom-[17px] z-10 cursor-pointer flex items-center justify-center",onClick:d[3]||(d[3]=T=>p("updateDisplay",!0))},We)],64)):(y(),E(L,{key:0},[e("div",Ve,[je,e("div",Ie,[De,e("span",{class:"text-sm font-normal text-[#5CF3FF] cursor-pointer",onClick:d[0]||(d[0]=T=>p("updateDisplay",!0))}," Log in ")])]),o(m,{model:s(i),class:"w-full",ref_key:"ruleFormRef",ref:r,rules:s(c),"label-position":"top","hide-required-asterisk":""},{default:n(()=>[o(g,{label:"Email",prop:"email"},{default:n(()=>[o(C,{placeholder:"Enter your email",modelValue:s(i).email,"onUpdate:modelValue":d[1]||(d[1]=T=>s(i).email=T)},{prefix:n(()=>[Ae]),_:1},8,["modelValue"])]),_:1}),o(g,{prop:"recaptcha_token",class:"mt-10"},{default:n(()=>[o(w,{onToUpdate:$,id:"forgot_password_recaptcha_token"})]),_:1})]),_:1},8,["model","rules"]),e("div",Le,[o(G,{type:"primary",loading:s(x),onClick:d[2]||(d[2]=T=>("throttle"in a?a.throttle:s(z))(()=>{l(s(r))})),style:{margin:"0",height:"100%",padding:"0","background-color":"transparent",border:"transparent",color:"#4E4A3C"},class:"w-full h-full flex items-center justify-center relative"},{default:n(()=>[Be,Se]),_:1},8,["loading"])])],64))])}}}),Je={class:"w-full h-screen pb-5"},Ke=e("img",{src:le,class:"w-full h-full fixed inset-0 object-cover -z-10"},null,-1),Qe={class:"w-full h-screen flex flex-col overflow-auto"},Xe=e("div",{class:"w-full h-12 text-base text-white font-normal px-5 flex items-center justify-between"},[e("img",{src:Y,alt:"",class:"w-52 h-16 mt-4"})],-1),Ye={class:"w-full flex-1 flex justify-end overflow-auto pr-32"},Ze={class:"w-[480px] h-[680px] relative sm:scale-50 md:scale-[0.7] xl:scale-[0.8] 2xl:scale-100"},et=e("img",{src:re,class:"w-full h-full absolute top-0 left-0 -z-10 object-left-top"},null,-1),xt=j({__name:"login",setup(v){const p=b(!0),r=O(),h=I(),t=_=>{p.value=_};return W(async()=>{h.clearUserInfo(),r.query.type==="forgotPassword"&&(p.value=!1)}),(_,F)=>{const k=Pe,i=Ge,x=ne;return y(),E("div",Je,[o(x,null,{default:n(()=>[Ke,e("div",Qe,[Xe,e("div",Ye,[e("div",Ze,[et,s(p)?(y(),B(k,{key:0,onUpdateDisplay:t})):(y(),B(i,{key:1,onUpdateDisplay:t}))])])])]),_:1})])}}});export{xt as default};
